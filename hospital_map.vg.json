{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Interactive map showing public and private hospital locations across Australia, with state selection and zoom.",
  "width": 800,
  "height": 600,
  "projection": {"type": "mercator"},
  "params": [
    {
      "name": "StateSelection",
      "bind": {
        "input": "select",
        "options": [
          null,
          "New South Wales",
          "Victoria",
          "Queensland",
          "South Australia",
          "Western Australia",
          "Tasmania",
          "Northern Territory",
          "ACT"
        ],
        "labels": [
          "All States",
          "New South Wales",
          "Victoria",
          "Queensland",
          "South Australia",
          "Western Australia",
          "Tasmania",
          "Northern Territory",
          "ACT"
        ],
        "name": "Select State: "
      }
    }
  ],
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/codeforgermany/click_that_hood/main/public/data/australia.geojson",
        "format": {"type": "json"}
      },
      "mark": {"type": "geoshape", "fill": "#f8f8f8", "stroke": "#717171"}
    },
    {
      "data": {"url": "Aus_Public_Hospitals.csv"},
      "transform": [{"filter": "StateSelection == null || datum.State == StateSelection"}],
      "mark": {"type": "circle", "size": 60, "color": "#3e85ff"},
      "encoding": {
        "longitude": {"field": "x", "type": "quantitative"},
        "latitude": {"field": "y", "type": "quantitative"},
        "tooltip": [
          {"field": "Hospital Name", "title": "Hospital"},
          {"field": "Category"},
          {"field": "Suburb"},
          {"field": "State"}
        ]
      }
    },
    {
      "data": {"url": "Aus_Private_Hospitals.csv"},
      "transform": [{"filter": "StateSelection == null || datum.State == StateSelection"}],
      "mark": {"type": "circle", "size": 60, "color": "#ff2a2a"},
      "encoding": {
        "longitude": {"field": "x", "type": "quantitative"},
        "latitude": {"field": "y", "type": "quantitative"},
        "tooltip": [
          {"field": "Hospital Name", "title": "Hospital"},
          {"field": "Category"},
          {"field": "Suburb"},
          {"field": "State"}
        ]
      }
    }
  ],
  "config": {"legend": {"titleFontSize": 14, "labelFontSize": 12}}
}
